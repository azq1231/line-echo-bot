import{r as c,c as M,o as $t,a as Ct,b as r,d as i,e as o,f as v,g as St,t as p,n as $,F as C,h as S,i as nt,w as f,j as Ut,v as Mt,k as Ot,l as jt}from"./runtime-dom.esm-bundler-jAXvPR8n.js";import{a as _}from"./index-R-lXtGyY.js";const At={class:"tw-max-w-screen-2xl tw-mx-auto tw-font-sans"},Et={class:"tw-bg-white tw-p-5 tw-rounded-lg tw-shadow-md tw-mb-5"},Wt={class:"tw-text-center tw-mb-4"},Tt={class:"tw-text-xl tw-font-bold tw-text-indigo-600"},Rt={class:"tw-flex tw-flex-wrap tw-gap-2 tw-justify-center"},Bt=["disabled"],Lt={key:0,class:"tw-flex tw-justify-center tw-items-center tw-py-10"},zt={key:1,class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-2 md:tw-grid-cols-3 lg:tw-grid-cols-5 tw-gap-3 tw-pb-4"},Nt={class:"tw-text-base tw-font-bold"},Vt={class:"tw-text-sm tw-opacity-90"},Ft={class:"tw-flex-grow tw-space-y-1"},Kt={key:0,class:"tw-flex-grow tw-flex tw-items-center tw-justify-center tw-text-center tw-text-gray-500 tw-font-bold tw-p-5 tw-bg-gray-200 tw-rounded-md"},Ht={class:"tw-w-12 tw-text-right tw-text-sm tw-font-medium tw-text-gray-600"},It=["onDragover","onDragleave","onDrop"],Zt=["onClick","title"],Gt={class:"tw-truncate tw-flex-1 tw-overflow-hidden tw-text-ellipsis tw-whitespace-nowrap tw-block"},Jt={key:0,class:"tw-flex tw-items-center tw-flex-shrink-0 tw-ml-2"},qt=["title","onClick"],Pt=["onClick"],Qt={key:0,class:"tw-absolute tw-top-full tw-left-0 tw-w-full tw-bg-white tw-border tw-border-gray-300 tw-rounded-md tw-max-h-48 tw-overflow-y-auto tw-z-10 tw-shadow-lg tw-mt-1"},Xt={key:0},Yt=["onClick"],Dt=["onClick"],te=["onClick"],ee={key:1},se=["onClick"],ne={key:0,class:"tw-mt-4 tw-pt-3 tw-border-t"},oe={class:"tw-space-y-1 tw-text-sm"},re={key:0,class:"tw-text-gray-400 tw-text-xs tw-text-center tw-py-2"},ie=["onDragstart"],ae=["onClick"],le={class:"tw-relative tw-mt-2"},we=["onClick"],ue={key:0,class:"tw-absolute tw-bottom-full tw-left-0 tw-w-full tw-bg-white tw-border tw-border-gray-300 tw-rounded-md tw-max-h-48 tw-overflow-y-auto tw-z-10 tw-shadow-lg tw-mb-1"},de={key:0},ce=["onClick"],pe={key:1},ve=["onClick"],fe=["onClick","disabled"],ge={key:3,class:"tw-fixed tw-inset-0 tw-bg-gray-600 tw-bg-opacity-50 tw-overflow-y-auto tw-h-full tw-w-full tw-z-50 tw-flex tw-justify-center tw-items-center"},_e={class:"tw-relative tw-p-5 tw-border tw-w-96 tw-shadow-lg tw-rounded-md tw-bg-white"},me={class:"tw-mt-4 tw-flex tw-justify-end tw-space-x-2"},ye=["disabled"],he={key:0},xe={key:1},be={__name:"App",setup(ke){const O=c([]),R=c({}),a=c({}),m=c(0),h=c(null),g=c(1),B=c([]),b=c(null),j=c({show:!1,message:"",type:"info"}),A=c(!1),E=c({}),L=c(!1),z=c({}),x=c(null),U=c(null),K=c(!1),W=c(""),N=c(!1),H=c(!0),G=M(()=>m.value===0?"本週預約":m.value===1?"下週預約":m.value===-1?"上週預約":m.value>1?`未來第 ${m.value} 週`:`過去第 ${Math.abs(m.value)} 週`),ot=M(()=>{const t=new Map;return O.value.forEach(e=>{e&&e.id!==void 0&&e.id!==null&&t.set(e.id.toString(),e)}),t}),J=M(()=>{const t="ㄅㄆㄇㄈㄉㄊㄋㄌㄍㄎㄏㄐㄑㄒㄓㄔㄕㄖㄗㄘㄙㄧㄨㄩㄚㄛㄜㄝㄞㄟㄠㄡㄢㄣㄤㄥㄦ#";return Object.keys(R.value).sort((e,s)=>e==="#"?1:s==="#"?-1:t.indexOf(e)-t.indexOf(s))}),I=M(()=>{for(const t in a.value)if(V(a.value[t]))return!0;return!1}),rt=M(()=>A.value?"發送中...":L.value?"本週提醒已發送":I.value?"發送整週提醒":"本週無可提醒對象"),it=M(()=>A.value?"tw-bg-gray-400 tw-text-white":I.value?L.value?"tw-bg-blue-600 tw-text-white":"tw-bg-white tw-text-gray-700 tw-border tw-border-gray-300 hover:tw-bg-gray-50":"tw-bg-red-200 tw-text-red-700");function at(t){return U.value===t}function V(t){if(!t||t.is_closed||!t.appointments)return!1;for(const e in t.appointments){const s=t.appointments[e];if(s.user_id){const n=ot.value.get(s.user_id.toString());if(n&&n.line_user_id&&n.line_user_id.startsWith("U"))return!0}}return!1}function lt(t){const e=t.date_info.date;return E.value[e]?"發送中...":z.value[e]?"本日提醒已發送":V(t)?`📤 發送 ${t.date_info.day_name} 提醒`:"本日無可提醒對象"}function wt(t){const e=t.date_info.date;return E.value[e]?"tw-bg-gray-400 tw-text-white":V(t)?z.value[e]?"tw-bg-blue-600 tw-text-white":"tw-bg-white tw-text-gray-700 tw-border tw-border-gray-300 hover:tw-bg-gray-50":"tw-bg-red-200 tw-text-red-700"}const ut=t=>{switch(t){case"未回覆":return"🔴";case"已回覆":return"🟡";case"已確認":return"🟢";default:return"⚪️"}};function u(t,e="success",s=3e3){j.value={show:!0,message:t,type:e},setTimeout(()=>{j.value.show=!1},s)}function q(t){return t.reduce((s,n)=>{const l=n.zhuyin?n.zhuyin[0]:"#";return s[l]||(s[l]=[]),s[l].push(n),s},{})}async function P(){H.value=!0;try{const t=await _.get(`/api/admin/get_week_appointments?offset=${m.value}`);O.value=t.data.users||[],R.value=q(O.value),a.value=t.data.week_schedule||{},u("✅ 資料已更新","success")}catch(t){u("❌ 排程載入失敗","error"),console.error("Schedule loading error:",t)}finally{H.value=!1}}async function Q(){u("載入中...","info"),await P()}function X(t){m.value+=t,L.value=!1,z.value={},P()}function T(){h.value=null,g.value=1,B.value=[]}function dt(t,e,s){const n=`${t}-${e}`;if(h.value===n)T(),b.value=null;else if(h.value=n,g.value=1,b.value=null,s>0){const l=a.value[t];if(l&&l.appointments){const d=Object.keys(l.appointments)[s-1],w=l.appointments[d];w&&w.user_id&&(b.value={id:w.user_id,name:w.user_name})}}}function ct(t){const e=`waiting-${t}`;h.value===e?T():(h.value=e,g.value=1)}function Y(t){B.value=R.value[t]||[],g.value=2}async function F(t,e,s,n,l=null){const y=a.value[t]?.appointments[e]?.user_id,d=a.value[t]?.appointments[e]?.user_name;if(T(),a.value[t]&&a.value[t].appointments[e]){const w=a.value[t].appointments[e];w.user_id=s,w.user_name=n,!y&&s?(w.id=Date.now(),w.reply_status="未回覆"):y&&!s&&(w.id=null,w.reply_status="未回覆",w.last_reply="")}u("儲存中...","info");try{const w=await _.post("/api/admin/save_appointment",{date:t,time:e,user_id:s,user_name:n,waiting_list_item_id:typeof l=="number"?l:null});if(w.data.status==="success"){u("✅ 預約已儲存","success");const k=w.data.appointment;if(k&&a.value[t]&&a.value[t].appointments[e]){const Z=a.value[t].appointments[e];Z.id=k.id,Z.reply_status=k.reply_status,Z.last_reply=k.last_reply}}else throw new Error(w.data.message||"儲存失敗")}catch(w){u(`❌ 儲存失敗: ${w.message||"未知錯誤"}`,"error"),a.value[t]&&a.value[t].appointments[e]&&(a.value[t].appointments[e].user_id=y,a.value[t].appointments[e].user_name=d)}}async function pt(t,e){T(),u("新增備取中...","info");try{const s=await _.post("/api/admin/waiting_list",{date:t,user_id:e.id,user_name:e.name});if(s.data.status==="success")a.value[t].waiting_list||(a.value[t].waiting_list=[]),a.value[t].waiting_list.push(s.data.item),u("✅ 已新增至備取","success");else throw new Error(s.data.message||"新增失敗")}catch(s){u(`❌ 新增備取失敗: ${s.message}`,"error")}}async function vt(t,e){if(confirm("確定要從備取名單中移除嗎？"))try{await _.delete(`/api/admin/waiting_list/${t}`);const s=a.value[e];s&&s.waiting_list&&(s.waiting_list=s.waiting_list.filter(n=>n.id!==t)),u("✅ 已從備取移除","success")}catch{u("❌ 移除失敗","error")}}function D(t,e,s){h.value.startsWith("waiting-")?pt(t,s):F(t,e,s.id,s.name)}function ft(t,e){x.value=e,t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/plain",JSON.stringify(e))}function gt(t,e,s){x.value&&!s.user_id&&(U.value=`${t}-${e}`)}function _t(t,e){U.value===`${t}-${e}`&&(U.value=null)}async function mt(t,e){x.value&&U.value===`${t}-${e}`&&(await F(t,e,x.value.user_id,x.value.user_name,x.value.id),a.value[t].waiting_list=a.value[t].waiting_list.filter(s=>s.id!==x.value.id)),x.value=null,U.value=null}async function yt(){const t=Object.keys(a.value).sort();let e="";if(t.length>0){const s=a.value[t[0]].date_info.display,n=a.value[t[t.length-1]].date_info.display;e=` (${s} ~ ${n})`}if(confirm(`確定要發送「${G.value}」${e} 的預約提醒嗎？`)){A.value=!0;try{const n=(await _.post("/api/admin/send_appointment_reminders",{type:"week",offset:m.value})).data;u(`✅ 已發送 ${n.sent_count} 則提醒${n.failed_count>0?`，${n.failed_count} 則失敗`:""}`),n.sent_count>0&&(L.value=!0)}catch{u("❌ 發送失敗","error")}finally{A.value=!1}}}async function ht(t,e){if(confirm(`確定要發送 ${e} 的預約提醒嗎？`)){E.value[t]=!0;try{const n=(await _.post("/api/admin/send_appointment_reminders",{type:"day",date:t})).data;n.sent_count>0&&(z.value[t]=!0),u(`✅ 已發送 ${e} 的 ${n.sent_count} 則提醒${n.failed_count>0?`，${n.failed_count} 則失敗`:""}`)}catch{u("❌ 發送失敗","error")}finally{E.value[t]=!1}}}async function xt(t,e,s){const n=Object.values(a.value[e].appointments),l=n.filter(w=>w.id!==t.id&&w.user_id===t.user_id);if(l.length>0&&(t.reply_status==="未回覆"||t.reply_status==="已回覆")&&confirm(`「${t.user_name}」在 ${e} 還有其他 ${l.length} 個預約，要將當日所有預約一併標示為「已確認」嗎？`)){u("批次確認中...","info");try{const w=await _.post("/api/admin/confirm_user_day_replies",{user_id:t.user_id,date:e});if(w.data.status==="success")n.forEach(k=>{k.user_id===t.user_id&&(k.reply_status="已確認")}),u("✅ 已批次確認完畢","success");else throw new Error(w.data.message||"批次確認失敗")}catch(w){u(`❌ 批次確認失敗: ${w.message||"未知錯誤"}`,"error")}return}const y=t.reply_status;let d;y==="未回覆"||y==="已回覆"?d="已確認":d="未回覆",u("更新狀態中...","info");try{const w=await _.put(`/api/admin/appointments/${t.id}/reply_status`,{status:d});if(w.data.status==="success")a.value[e]&&a.value[e].appointments[s]&&(a.value[e].appointments[s].reply_status=d),u(`✅ 狀態已更新為「${d}」`,"success");else throw new Error(w.data.message||"更新失敗")}catch(w){u(`❌ 更新狀態失敗: ${w.message||"未知錯誤"}`,"error")}}async function bt(t,e,s){u("確認中...","info");try{const n=await _.post(`/api/admin/appointments/${t}/confirm_reply`);if(n.data.status==="success")a.value[e]&&a.value[e].appointments[s]&&(a.value[e].appointments[s].reply_status="已確認"),u("✅ 已確認回覆","success");else throw new Error(n.data.message||"確認失敗")}catch(n){u(`❌ 確認失敗: ${n.message||"未知錯誤"}`,"error")}}function kt(){K.value=!0,W.value=""}function tt(){K.value=!1}async function et(){const t=W.value.trim();if(!t){u("用戶姓名不能為空。","error");return}N.value=!0;try{const e=await _.post("/api/admin/users/add_manual",{name:t});if(e.data.status==="success"){const s=e.data.user;O.value.push(s),R.value=q(O.value),u(`✅ 臨時用戶 "${s.name}" 已新增。`,"success"),tt()}else throw new Error(e.data.message||"新增失敗")}catch(e){u(`❌ 新增臨時用戶失敗: ${e.message||"未知錯誤"}`,"error")}finally{N.value=!1}}const st=t=>{t.target.closest(".tw-relative")||T()};return $t(()=>{Q(),document.addEventListener("click",st)}),Ct(()=>{document.removeEventListener("click",st)}),(t,e)=>(i(),r("div",At,[o("div",Et,[o("div",Wt,[o("h2",Tt,p(G.value),1)]),o("div",Rt,[o("button",{class:"tw-px-4 tw-py-2 tw-rounded-md tw-text-sm tw-font-medium tw-transition tw-bg-indigo-600 tw-text-white hover:tw-bg-indigo-700",onClick:e[0]||(e[0]=s=>X(-1))},"⬅️ 上一週"),o("button",{class:"tw-px-4 tw-py-2 tw-rounded-md tw-text-sm tw-font-medium tw-transition tw-bg-indigo-600 tw-text-white hover:tw-bg-indigo-700",onClick:e[1]||(e[1]=s=>X(1))},"下一週 ➡️"),o("button",{class:"tw-px-4 tw-py-2 tw-rounded-md tw-text-sm tw-font-medium tw-transition tw-bg-indigo-600 tw-text-white hover:tw-bg-indigo-700",onClick:Q},"🔄 重新載入"),o("button",{class:$(["tw-px-4 tw-py-2 tw-rounded-md tw-text-sm tw-font-medium tw-transition disabled:tw-cursor-not-allowed",it.value]),onClick:yt,disabled:A.value||!I.value},"📨 "+p(rt.value),11,Bt),o("button",{class:"tw-px-4 tw-py-2 tw-rounded-md tw-text-sm tw-font-medium tw-transition tw-bg-green-600 tw-text-white hover:tw-bg-green-700",onClick:kt},"➕ 新增臨時用戶")]),e[5]||(e[5]=St('<div class="tw-text-center tw-mt-3 tw-text-xs tw-text-gray-500 tw-space-y-1"><div>提醒按鈕：<span class="tw-font-semibold tw-text-gray-700">白色</span>=可發送, <span class="tw-font-semibold tw-text-blue-600">藍色</span>=已發送, <span class="tw-font-semibold tw-text-red-600">紅色</span>=無可提醒對象</div><div>預約時段：<span class="tw-px-1 tw-py-0.5 tw-rounded tw-bg-red-200 tw-text-red-800 tw-font-semibold">紅色底</span> = 臨時用戶 (無法發送LINE提醒)</div><div class="tw-pt-1">狀態燈號說明：<span class="tw-font-mono">🔴</span>=未回覆, <span class="tw-font-mono">🟡</span>=已回覆(系統自動標記), <span class="tw-font-mono">🟢</span>=已確認(手動標記)。點擊燈號可手動切換狀態。</div></div>',1))]),H.value?(i(),r("div",Lt,[...e[6]||(e[6]=[o("div",{class:"tw-animate-spin tw-rounded-full tw-h-12 tw-w-12 tw-border-b-2 tw-border-indigo-500"},null,-1),o("p",{class:"tw-ml-4 tw-text-gray-600"},"載入中...",-1)])])):(i(),r("div",zt,[(i(!0),r(C,null,S(a.value,s=>(i(),r("div",{key:s.date_info.date,class:$(["tw-rounded-lg tw-p-3 tw-shadow-lg tw-flex tw-flex-col tw-gap-y-3",s.is_closed?"tw-bg-gray-100":"tw-bg-white"])},[o("div",{class:$(["tw-text-white tw-p-2.5 tw-rounded-md tw-text-center",s.is_closed?"tw-bg-gray-400":"tw-bg-gradient-to-r tw-from-indigo-600 tw-to-purple-700"])},[o("h3",Nt,p(s.date_info.day_name),1),o("p",Vt,p(s.date_info.display),1)],2),o("div",Ft,[s.is_closed?(i(),r("div",Kt,[...e[7]||(e[7]=[nt(" 😴",-1),o("br",null,null,-1),nt("本日休診 ",-1)])])):(i(!0),r(C,{key:1},S(s.appointments,(n,l,y)=>(i(),r("div",{key:l,class:"tw-flex tw-items-center tw-gap-2"},[o("span",Ht,p(l),1),o("div",{class:$(["tw-relative tw-flex-1",{"tw-bg-green-100 tw-border-green-400":at(`${s.date_info.date}-${l}`)}]),onDragover:f(d=>gt(s.date_info.date,l,n),["prevent"]),onDragleave:d=>_t(s.date_info.date,l),onDrop:f(d=>mt(s.date_info.date,l),["prevent"])},[o("div",{class:$(["tw-w-full tw-p-1.5 tw-border tw-text-sm tw-rounded tw-cursor-pointer tw-flex tw-justify-between tw-items-center tw-min-w-0",{"tw-text-gray-500":!n.user_id,"tw-bg-red-200 tw-border-red-400 tw-text-red-800":n.user_id?.startsWith("manual_"),"tw-bg-white tw-border-gray-300 tw-text-gray-800":!n.user_id?.startsWith("manual_"),"tw-font-semibold":n.user_id&&n.user_id.startsWith("manual_")}]),onClick:d=>dt(s.date_info.date,l,y),title:n.user_name||"未預約"},[o("span",Gt,p(n.user_name||"-- 未預約 --"),1),n.id?(i(),r("div",Jt,[o("span",{class:"tw-text-xs tw-font-mono tw-cursor-pointer",title:`點擊以變更狀態
目前: ${n.reply_status}
內容: ${n.last_reply||"無"}`,onClick:f(d=>xt(n,s.date_info.date,l),["stop"])},p(ut(n.reply_status)),9,qt),n.reply_status==="已回覆"?(i(),r("button",{key:0,onClick:f(d=>bt(n.id,s.date_info.date,l),["stop"]),title:"確認回覆",class:"tw-ml-1 tw-px-1.5 tw-py-0.5 tw-text-xs tw-bg-green-500 tw-text-white tw-rounded hover:tw-bg-green-600"}," ✅ ",8,Pt)):v("",!0)])):v("",!0),e[8]||(e[8]=o("span",{class:"tw-ml-2 tw-text-gray-400 tw-text-xs"},"▼",-1))],10,Zt),h.value===`${s.date_info.date}-${l}`?(i(),r("div",Qt,[g.value===1?(i(),r("div",Xt,[b.value?(i(),r("div",{key:0,class:"tw-px-2.5 tw-py-2 tw-cursor-pointer tw-text-sm tw-text-blue-600 tw-font-bold tw-border-b hover:tw-bg-gray-100",onClick:f(d=>F(s.date_info.date,l,b.value.id,b.value.name),["stop"])}," ➡️ 同上 ("+p(b.value.name)+") ",9,Yt)):v("",!0),o("div",{class:"tw-px-2.5 tw-py-2 tw-cursor-pointer tw-text-sm tw-text-gray-800 hover:tw-bg-gray-100",onClick:f(d=>F(s.date_info.date,l,"","-- 未預約 --"),["stop"])},"-- 未預約 --",8,Dt),(i(!0),r(C,null,S(J.value,d=>(i(),r("div",{key:d,class:"tw-px-2.5 tw-py-2 tw-cursor-pointer tw-text-sm tw-text-gray-800 hover:tw-bg-gray-100",onClick:f(w=>Y(d),["stop"])},p(d),9,te))),128))])):v("",!0),g.value===2?(i(),r("div",ee,[o("div",{class:"tw-px-2.5 tw-py-2 tw-cursor-pointer tw-text-sm tw-font-bold tw-border-b tw-text-purple-700 hover:tw-bg-gray-100",onClick:e[2]||(e[2]=f(d=>g.value=1,["stop"]))},"← 返回注音"),(i(!0),r(C,null,S(B.value,d=>(i(),r("div",{key:d.id,class:"tw-px-2.5 tw-py-2 tw-cursor-pointer tw-text-sm tw-text-gray-800 hover:tw-bg-gray-100",onClick:f(w=>D(s.date_info.date,l,d),["stop"])},p(d.name),9,se))),128))])):v("",!0)])):v("",!0)],42,It)]))),128))]),s.is_closed?v("",!0):(i(),r("div",ne,[e[9]||(e[9]=o("h4",{class:"tw-text-sm tw-font-semibold tw-text-gray-500 tw-mb-2"},"備取名單",-1)),o("div",oe,[!s.waiting_list||s.waiting_list.length===0?(i(),r("div",re,"尚無備取")):v("",!0),(i(!0),r(C,null,S(s.waiting_list,n=>(i(),r("div",{key:n.id,class:"tw-flex tw-items-center tw-justify-between tw-p-1.5 tw-bg-yellow-50 tw-border tw-border-yellow-200 tw-rounded tw-cursor-grab",draggable:"true",onDragstart:l=>ft(l,n)},[o("span",null,p(n.user_name),1),o("button",{onClick:l=>vt(n.id,s.date_info.date),class:"tw-text-red-500 hover:tw-text-red-700 tw-text-xs"},"✕",8,ae)],40,ie))),128))]),o("div",le,[o("button",{onClick:n=>ct(s.date_info.date),class:"tw-w-full tw-text-xs tw-text-center tw-py-1.5 tw-bg-gray-100 hover:tw-bg-gray-200 tw-rounded-md tw-text-gray-600"},"+ 新增備取",8,we),h.value===`waiting-${s.date_info.date}`?(i(),r("div",ue,[g.value===1?(i(),r("div",de,[(i(!0),r(C,null,S(J.value,n=>(i(),r("div",{key:n,class:"tw-px-2.5 tw-py-2 tw-cursor-pointer tw-text-sm tw-text-gray-800 hover:tw-bg-gray-100",onClick:f(l=>Y(n),["stop"])},p(n),9,ce))),128))])):v("",!0),g.value===2?(i(),r("div",pe,[o("div",{class:"tw-px-2.5 tw-py-2 tw-cursor-pointer tw-text-sm tw-font-bold tw-border-b tw-text-purple-700 hover:tw-bg-gray-100",onClick:e[3]||(e[3]=f(n=>g.value=1,["stop"]))},"← 返回注音"),(i(!0),r(C,null,S(B.value,n=>(i(),r("div",{key:n.id,class:"tw-px-2.5 tw-py-2 tw-cursor-pointer tw-text-sm tw-text-gray-800 hover:tw-bg-gray-100",onClick:f(l=>D(s.date_info.date,null,n),["stop"])},p(n.name),9,ve))),128))])):v("",!0)])):v("",!0)])])),s.is_closed?v("",!0):(i(),r("button",{key:1,class:$(["tw-mt-2 tw-w-full tw-px-4 tw-py-2 tw-rounded-md tw-text-sm tw-font-medium tw-transition disabled:tw-cursor-not-allowed",wt(s)]),onClick:n=>ht(s.date_info.date,s.date_info.day_name),disabled:E.value[s.date_info.date]||!V(s)},p(lt(s)),11,fe))],2))),128))])),j.value.show?(i(),r("div",{key:2,class:$(["tw-fixed tw-top-5 tw-right-5 tw-px-5 tw-py-4 tw-rounded-md tw-shadow-lg tw-text-white",j.value.type==="success"?"tw-bg-gray-800":"tw-bg-red-700"])},p(j.value.message),3)):v("",!0),K.value?(i(),r("div",ge,[o("div",_e,[e[10]||(e[10]=o("h3",{class:"tw-text-lg tw-font-bold tw-mb-4"},"新增臨時用戶",-1)),Ut(o("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=s=>W.value=s),placeholder:"請輸入用戶姓名",class:"tw-mt-1 tw-block tw-w-full tw-px-3 tw-py-2 tw-border tw-border-gray-300 tw-rounded-md tw-shadow-sm focus:tw-outline-none focus:tw-ring-indigo-500 focus:tw-border-indigo-500 sm:tw-text-sm",onKeyup:Ot(et,["enter"])},null,544),[[Mt,W.value]]),o("div",me,[o("button",{onClick:tt,class:"tw-px-4 tw-py-2 tw-bg-gray-300 tw-text-gray-800 tw-rounded-md hover:tw-bg-gray-400"}," 取消 "),o("button",{onClick:et,disabled:N.value||!W.value.trim(),class:"tw-px-4 tw-py-2 tw-bg-indigo-600 tw-text-white tw-rounded-md hover:tw-bg-indigo-700 disabled:tw-opacity-50 disabled:tw-cursor-not-allowed"},[N.value?(i(),r("span",he,"新增中...")):(i(),r("span",xe,"確定新增"))],8,ye)])])])):v("",!0)]))}};jt(be).mount("#app");
